<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="csrf-token" content="{{ csrf_token }}">
    <title>Eco-Guia</title>
    {% load static %}
    <link rel="manifest" href="{% static 'manifest.json' %}">
    <link
      href="https://fonts.googleapis.com/css?family=Poppins"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'css/index.css' %}" />
    <link rel="icon" href="{% static 'img/favicon.ico' %}"/>
  </head>
  <body>
    <header class="cabecalho">
      <nav class="menu-header nav-header">
        <div class="logo">
          <img
            class="img-logo"
            src="{% static 'img/logo_definitiva_192-rbg.png' %}"
            alt="logo_EcoGuia"
          />
        </div>

        <ul class="nav-links">
          <li class="icones">
            <a class="item-link" href="{% url "mapa"%}">Ecopontos de coleta</a>
          </li>
          <li class="icones">
            <a class="item-link" href="{% url 'fale_conosco' conta.id %}">Fale Conosco</a>
          </li>
          <li class="icones">
            <a class="item-link" href="#">Configura√ß√µes</a>
          </li>
        </ul>

        <!-- Menu hambuguer -->
        <div class="burger">
          <div class="linha1"></div>
          <div class="linha2"></div>
          <div class="linha3"></div>
        </div>
      </nav>
    </header>

    <div class="box user">
      <h2 class="pscan user-box">Bem vindo(a) {{conta.nome}}!</h2>
      <button id="instalacao" style="display:none;">Instalar App</button>
    </div>
    
    <nav class="nav">
      <div class="box">        
        <a class="box" href="{% url 'scan' %}">
          <img
            class="img-box"
            src="{% static 'img/barcode-scan-icon.png' %}"
            alt="scan"
          />
          <p class="pscan">Scaneie e identifique o objeto</p>
        </a>
      </div>
    </nav>

    <main>
      <div class="ideias">
        <h3 class="h3ideias">Ideias Populares</h3>
        <a href="{% url "ideias" %}" class="pideias">Veja todos</a>
      </div>

      <div class="populares">
        <div class="item">
          <div class="text">
            <a class="pitem" href="{% url "vasos" %}">Saiba Mais</a>
            <h4 class="h4item">Vasos de Garrafa de Vidro</h4>
          </div>
          <img
            class="imgitem"
            src="{% static 'img/artesanato-com-garrafas-de-vidro-1-removebg-preview.png' %}"
            alt="artesanato"
          />
        </div>
        <div class="item">
          <div class="text">
            <a class="pitem" href="{% url 'porta_retrato' %}">Saiba Mais</a>
            <h4 class="h4item">Porta-retrato pote de vidro</h4>
          </div>
          <img
            class="imgitem"
            src="{% static 'img/portavidro.png' %}"
            alt="portavidro"
          />
        </div>
      </div>

      <div class="separator"></div>

      <div class="catego">
        <h3 class="h3catego">Categorias</h3>
        <p class="pcatego">Veja todos</p>
      </div>

      <div class="rias">
        <div class="rias-item" id="red">
          <div class="lixo red">
            <img
              class="img-lixo"
              src="{% static 'img/lixovermelho-removebg-preview.png' %}"
              alt="Lixo vermelho"
            />
          </div>
          <p class='type-lixo'>Pl√°stico</p>
        </div>
        <div class="rias-item" id="blue">
          <div class="lixo blue">
            <img
              class="img-lixo"
              src="{% static 'img/lixoazul-removebg-preview.png' %}"
              alt="Lixo azul"
            />
          </div>
          <p class='type-lixo'>Papel</p>
        </div>
        <div class="rias-item" id="yellow">
          <div class="lixo yellow">
            <img
              class="img-lixo"
              src="{% static 'img/lixoamarelo.png' %}"
              alt="Lixo amarelo"
            />
          </div>
          <p class='type-lixo'>Metais</p>
        </div>
        <div class="rias-item" id="green">
          <div class="lixo green">
            <img
              class="img-lixo"
              src="{% static 'img/lixoverde-removebg-preview.png' %}"
              alt="Lixo verde"
            />
          </div>
          <p class='type-lixo'>Vidro</p>
        </div>
        <!-- Novos tipos de lixo -->
        <div class="rias-item" id="black">
          <div class="lixo black">
            <img
              class="img-lixo"
              src="{% static 'img/lixopreto-removebg-preview.png' %}" 
              alt="Lixo preto"
            />
          </div>
          <p class='type-lixo'>Madeira</p>
        </div>

        <div class="rias-item" id="orange">
          <div class="lixo orange">
            <img
              class="img-lixo"
              src="{% static 'img/lixolaranja-removebg-preview.png' %}" 
              alt="Lixo laranja"
            />
          </div>
          <p class='type-lixo'>Res√≠duos Perigosos</p>
        </div>

        <div class="rias-item" id="white">
          <div class="lixo white">
            <img
              class="img-lixo"
              src="{% static 'img/lixobranco-removebg-preview.png' %}"
              alt="Lixo branco"
            />
          </div>
          <p class='type-lixo'>Res√≠duos de Sa√∫de</p>
        </div>

        <div class="rias-item" id="purple">
          <div class="lixo purple">
            <img
              class="img-lixo"
              src="{% static 'img/lixoroxo-removebg-preview.png' %}" 
              alt="Lixo roxo"
            />
          </div>
          <p class='type-lixo'>Res√≠duos Radioativos</p>
        </div>

        <div class="rias-item" id="brown">
          <div class="lixo brown">
            <img
              class="img-lixo"
              src="{% static 'img/lixomarrom-removebg-preview.png' %}" 
              alt="Lixo marrom"
            />
          </div>
          <p class='type-lixo'>Org√¢nico</p>
        </div>

        <div class="rias-item" id="gray">
          <div class="lixo gray">
            <img
              class="img-lixo"
              src="{% static 'img/lixocinza-removebg-preview.png' %}" 
              alt="Lixo cinza"
            />
          </div>
          <p class='type-lixo'>N√£o Recicl√°vel</p>
        </div>
            </div>

      <!-- Card de descri√ß√£o que aparece ao clicar -->
      <div id="card-container" class="card hidden">
        <div class="card-content">
          <h4 id="card-title"></h4>
          <p id="card-description"></p>
          <button id="close-card">Fechar</button>
        </div>
      </div>

      <div class="separator"></div>
    </main>

    <!-- Chatbot -->
    <div class="chatbot-icon" id="chatbot-icon">
      <img src="{% static 'img/icons8-mensagens-64.png' %}" />
    </div>

    <div class="chat-container" id="chat-container">
      <div class="chat-header">
        <img
          src="{% static 'img/avatar.png' %}"
          alt="√ÅlvaroBot"
          class="chat-avatar"
        />
        <span class="chat-title">√ÅlvaroBot</span>
        <button class="close-btn" id="close-btn">‚úñ</button>
      </div>
      <div id="chat-box" class="chat-box">
        <div class="chat-message bot">
          <img
            src="{% static 'img/avatar.png' %}"
            alt="√ÅlvaroBot"
            class="message-avatar"
          />
          <span
            >Ol√° {{conta.nome}}! Sou o √ÅlvaroBot. Selecione uma das op√ß√µes de ajuda abaixo:<br />
            1- Localiza√ß√£o de eco pontosüîé.<br />
            2- Lixeira ideal para descarteüóëÔ∏è.<br />
            3- Dicas de Reciclagem‚ôªÔ∏è.<br />
            4- Dicas de Redu√ß√£o de Res√≠duos.
          </span>
        </div>
      </div>
      <div class="input-container">
        <input
          type="text"
          id="mensagem-input"
          placeholder="Digite sua mensagem aqui..."
          autofocus
        />
        <button id="enviar-btn" title="Enviar mensagem">‚û§</button>
      </div>
    </div>
    
    <div id="typing-indicator" class="typing-indicator" style="display: none">
      <img
        src="{% static 'img/avatar.png' %}"
        alt="√ÅlvaroBot"
        class="message-avatar"
      />
      <span>√ÅlvaroBot est√° digitando...</span>
    </div>

    <!-- Scripts -->
    <script>
      const avatarUrl = "{% static 'img/avatar.png' %}"; // Definindo a URL do avatar
    </script>
    <script src="{% static 'js/home.js' %}"></script>
    <script src="{% static 'js/chat.js' %}"></script>
    <script src="{% static 'js/pwa.js' %}"></script>
    <script src="{% static 'js/instalacao.js' %}"></script>
  </body>
</html>
